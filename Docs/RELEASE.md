# Release Process

This document describes the release process for TCAKit.

## Prerequisites

- Git repository with main branch
- GitHub CLI (`gh`) installed and authenticated
- Swift Package Manager
- All tests passing

**Note**: The automated release workflow in CI has been disabled to use this manual release process instead.

## Release Steps

### 1. Prepare for Release

```bash
# Ensure you're on main branch
git checkout main
git pull origin main

# Ensure working directory is clean
git status
```

### 2. Run Release Script

```bash
# Make script executable (if not already)
chmod +x scripts/release.sh

# Run release script
./scripts/release.sh v1.0.0
```

The script will:
- ✅ Validate version format
- ✅ Check branch and working directory
- ✅ Run tests
- ✅ Create and push git tag
- ✅ Create GitHub release with notes

### 3. Verify Release

1. Check GitHub releases: https://github.com/ronstorm/tca-kit/releases
2. Verify tag was created: `git tag -l`
3. Test package installation in a new project

## Version Numbering

We follow [Semantic Versioning](https://semver.org/):

- **MAJOR** (X.0.0): Breaking changes
- **MINOR** (X.Y.0): New features, backward compatible
- **PATCH** (X.Y.Z): Bug fixes, backward compatible

## Release Notes

Release notes are automatically generated by the script and include:

- Feature highlights
- Documentation updates
- Example apps
- Technical requirements
- Getting started instructions

## Manual Release (Alternative)

If you prefer to release manually:

```bash
# 1. Update CHANGELOG.md
# 2. Run tests
swift test

# 3. Create tag
git tag -a v1.0.0 -m "Release v1.0.0"
git push origin v1.0.0

# 4. Create GitHub release
gh release create v1.0.0 --title "TCAKit v1.0.0" --notes "Release notes..."
```

## Troubleshooting

### Script fails with "gh: command not found"
Install GitHub CLI:
```bash
# macOS
brew install gh

# Authenticate
gh auth login
```

### Script fails with "Tests failed"
Fix any failing tests before releasing:
```bash
swift test
```

### Tag already exists
Delete the tag and try again:
```bash
git tag -d v1.0.0
git push origin :refs/tags/v1.0.0
```
